<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="rpglike.css" />
        <script src="rpglike.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=M+PLUS+2:wght@300&display=swap" rel="stylesheet">
    </head>
    <body>
        <div id="delete_or_not"  style="display:none">
            <p>全てのセーブデータが消去されます。<br>また、このボタンは運営用でありゲームクリアに関係ありません。</p>
            <div class="flex_buttons">
                <p onclick="deleteAllData()" id="really_delete_button" class="flex_item_button">削除</p>
                <p onclick="notDelete()" id="not_delete_button" class="flex_item_button">戻る</p>
                <p onclick="debugMode()" id="debug_button" class="flex_item_button">デバッグ用</p>
            </div>
        </div>
        <div id="title_sheet" style="display:block">
            <div id="title_text_and_buttons" onclick="startGame()">
                <img src="images/title/スタートボタン.png" onclick="startGame()" id="start_button" class="title_button">
                <!--<img src="images/title/止めるボタン-1.png" onclick="quitGame()" id="quit_button" class="title_button">-->
            </div>
            <img src="images/title/ゲームやめるボタン_暗.png" onclick="quitGame()" id="quit_button" class="title_button">
            <p id="delete_data_button" onclick="wantDelete()">delete_data</p>
            
        </div>
        <div id="tutorial" style="display:none">
            <div id="story_sogen" style="display:none"></div>
            <div id="ending" style="display:none"></div>
            
            <img id="tutorial_image" src="">
            <img id="pointer" src ="images/icons/up_arrow.png" style="display: none">
        </div>

        <div id="clear_back_sheet" style="display:none">
        </div>
        
        <div id="clear_sheet" style="display:none">
            <div id="clear_text_and_buttons">
                <h1 id="clear_title">CLEAR!!</h1>
            </div>
        </div>
        
        
        
        <div id="text_log_back" style="display:none" onclick="displayNextDialog()">      
        </div>
        <div class="text_log" id="gene_text_log" style="display: none" onclick="displayNextDialog()">
            <p class="text_log_speaker">＊</p>
            <p class="text_log_sentence">文章が入るところ</p>
            <img src="images/icons/under_arrow.png" alt="↓" class="text_log_next_button"> 
        </div>
        
        
        
        <div id="map" style="display:none">
            <div class="menu_button" onclick="openMenu()" id="menu_button">
                <span></span>
                <span></span>
                <span></span>
                
            </div>
            <img id="player_icon" src = "images/icons/プレイヤーアイコン.png">
            <ul class="slide_menu">
                <li id="menu_level">Lv.主人公</li>
                <!--</1><li id="next_levet_made">次のレベルまで</li>-->
                <li style="display: flex">
                    <p id="menu_point">pt</p>
                    <progress value="0" max="100" id="menu_point_bar"></progress>
                </li>
                <li id="menu_explain" onclick="openExplains()">説明</li>
                <span id="menu_explain_box" style="display: none">
                    <li id="menu_story_explain" class="menu_explains" onclick="openExplainSheet('世界観の説明')">　ストーリー設定</li>
                    <li id="menu_quiz_explain" class="menu_explains" onclick="openExplainSheet('謎画面の説明')">　謎画面について</li>
                    <li id="menu_battle_explain" class="menu_explains" onclick="openExplainSheet('戦闘画面の説明')">　戦闘画面について</li>
                </span>
                <li id="menu_how_to_win" onclick="monster_hint_select()">倒し方のヒント</li>
                <li id="menu_monster" onclick="openBook('monster_book')">モンスター図鑑</li>
                <li id="menu_magic_list" onclick="openBook('magic_book')">魔法図鑑</li>
                <li id="menu_title" onclick="moveTitle()" >タイトルに戻る</li>
            </ul>
            <div id="menu_back" style="display:none" onclick="closeMenu()">
            </div>
            
            <div id="prairie" class="stage">
                <div class="quiz_icons" id="prairie_q_icons">
                </div>
                <img src ="images/icons/看板アイコン.png" alt = "看板" onclick="openBoard()" id="board_icon">
                <img id='B1_icon' src="images/mobs/スライム.PNG"onclick="openBattle('B1')" class="monster_icon">
                <img src="images/icons/up_arrow.png" alt="↑" class="move_map_button" id="button_move_to_rocky" onclick="moveMap('rocky')" style="display: none">
            </div>
            
            <div id="rocky" class="stage" style="display: none">
                <div id="quiz_icons">
                </div>
                <img id='B2_icon' src="images/mobs/飛ぶ.png"onclick="openBattle('B2')" class="monster_icon">
                <img src="images/icons/up_arrow.png" alt="↑" class="move_map_button" id="button_move_to_castle" onclick="moveMap('castle')" style="display: none">
                <img src="images/icons/under_arrow.png" alt="↓" class="move_map_button" id="button_back_to_prairie" onclick="moveMap('prairie')">
            </div>
            
            <div id="castle" class="stage" style="display: none">
                <div class="quiz_icons" id="castle_q_icons">
                    
                </div>
                <img id='B3_icon' src="images/mobs/魔王.png"onclick="openBattle('B3')" class="monster_icon">
                <img src="images/icons/under_arrow.png" alt="↓" class="move_map_button" id="button_back_to_rocky" onclick="moveMap('rocky')">
            </div>
        </div>
        
        
        
        <div id="QB_back" style="display:none">
        </div>
        <div id="Q_sheet" style="display:none">
            
            <div id="quiz_stars"></div>
            <div class="quiz_content">
                
                <img src="" alt="謎の画像" class="quiz_image">
                <div id="quiz_magic_judge_canvas" class="judge_canvas">
                </div>
            </div>
            <div class="text_log" id="q_text_log">
                <p class="text_log_sentence">答えを入力：</p>
                <input type="text" id="answer_box">
                <div id = "send_and_hint_buttons">
                    <p onclick="hint(0)" class="hintButton">ヒント</p>
                    <p onclick="hint('magic')" class="magicHintButton">魔法のヒント</p>
                    <p onclick="checkA()" class="checkButton">送信</p>
                </div>
            </div>
            <p onclick="closeQ()" class="closeButton">▷戻る</p>
        </div>
        
        
        <div id="board_sheet" style="display: none">
            <div id="board_content">
                <img src="" alt="クリア条件の画像" id="board_image">
                <div id="board_magic_judge_canvas" class="judge_canvas">
                </div>
            </div>
            <p onclick="closeBoard()" class="closeButton">▷戻る</p>
            
        </div>
        
        
        
        <div class="book_sheet" id="monster_book" style="display: none">
            <div class="book_content">
                <img src="images/book/book_image/monster/にゃげぼうし.png" alt="モンスター" class="book_base_image" id="monster_book_image">
                <ul class="book_link_list" id="monster_book_link_list">
                </ul>
            </div>
            <p onclick="closeBook('monster_book')" class="closeButton">▷戻る</p>
        </div>
        <!--<script>
            document.getElementById("monster_book").addEventListener("click", function(e) {
                makeBook(e);
            });
        </script>-->
        
        
        <div class="book_sheet" id="magic_book" style="display: none">
            <div class="book_content">
                <img src="images/book/book_image/magic/none.png" alt="魔法の説明" class="book_base_image" id="magic_book_image">
                <ul class="book_link_list" id="magic_book_link_list">
                </ul>
            </div>
            <p onclick="closeBook('magic_book')" class="closeButton">▷戻る</p>
        </div>
        
        
        <div id="explain_sheet" style="display: none">
            <div id="explain_content">
                <img src="" alt="説明" id="explain_image">
            </div>
            <p onclick="closeExplainSheet()" class="closeButton">▷戻る</p>
        </div>
        
    
        
        <div id="open_color_back" style="display:none" onclick="closeColorMagic()">
        </div>
        
        <div id="magic_canvas" style="display: none">
        </div>
        <script>
            document.getElementById("magic_canvas").addEventListener("click", function(e) {
                useMagic(e);
            });
        </script>
        
        
        <div id="magics" style="display:none">
            
            <div id="change_color_icon" class="change_color magic_icon" onclick="openColorMagic()" style="display:none">
            </div>
            <ul class="color_menu change_color" style="display:none">
                <li class="red" onclick="openMagic('red')"></li>
                <li class="blue" onclick="openMagic('blue')"></li>
                <li class="yellow" onclick="openMagic('yellow')"></li>
            </ul>
            
            <div id="add_char_icon" class="add_char magic_icon" style="display:none" onclick="openMagic('add_char')">
            </div>
            

            <div id="change_char_icon" class="change_char magic_icon" onclick="openMagic('change_char')" style="display:none">
            </div>
    
            <div id="scissors_icon" class="scissors magic_icon" onclick="openMagic('scissors')" style="display:none">
            </div>  
        </div>
        
        
        <div id="pop_back" style="display:none" onclick="closePop()">      
        </div>
        <div id="pop"style="display:none">
            <div id= "pop_sheet_back" onclick="closePop()"></div>
            <p id="pop_title">popタイトル</p>
            <p id="pop_text">pop文章</p>
            <p id="pop_button" style="display: none">ボタン</p>
            <dev id="monster_hints_buttons">
                <p id="B1_hint" class="monster_hint_buttons" style="display: none" onclick="monster_hint('B1')">ブルースライム</p>
                <p id="B2_hint" class="monster_hint_buttons" style="display: none" onclick="monster_hint('B2')">ガーゴイル</p>
                <p id="B3_hint" class="monster_hint_buttons" style="display: none" onclick="monster_hint('B3')">Mr.魔王</p>
            </dev>
            <dev id="hints_buttons">
                <p id="change_color_hint" class="magic_hint_buttons" style="display: none" onclick="hint('magic','change_color')">カラー</p>
                <p id="add_char_hint" class="magic_hint_buttons" style="display: none" onclick="hint('magic','add_char')">スクエア</p>
                <p id="change_char_hint" class="magic_hint_buttons" style="display: none" onclick="hint('magic','change_char')">文字トランス</p>
                <p id="scissors_hint" class="magic_hint_buttons" style="display: none" onclick="hint('magic','scissors')">ハサミ</p>
            </dev>
            
        </div>
        
        
        
        
        
        
        
        
        
        
        
        <!--ここから所有格さん-->
        
        
        
        <div id="B1" class="battle" style="display: none" onclick="fail()">
            <div class="enemy_info">
                <div class="enemy_name" id="B1_name" onclick="changeName(this.id)">ブルースライム</div>
                <div class="enemy_status">
                    <ul style="list-style-type: none;" onclick="fail()">
                        <li>Lv:5</li>
                        <li>HP:100</li>
                        <li>ATK:10</li>
                        <li>DEF:30</li>
                    </ul>
                </div>
            </div>
            <img src="images/mobs/スライム.PNG" class="monster" id="monster1" onclick="changeColor(this.id)">
            <div class="command" id="B1_command">
                <p onclick="soonFail(1)">▷たたかう</p>
                <p onclick="openBattleMagic()">▷まほう</p>
                <p onclick="closeBattle('B1')">▷にげる</p>
            </div>
        </div>
        
        
        <div id="B2" class="battle" style="display: none" onclick="fail()">
            <img src="images/mobs/飛ぶ.png" class="monster" id="monster2" onclick="changeColor('monster2')">
            <img src="images/background/つり橋.png" id="tsuribashi">
            <div class="enemy_info">
                <div class="enemy_name" id="B2_name" onclick="changeName('B2')">ガーゴイル</div>
                <div class="enemy_status">
                    <ul style="list-style-type: none;">
                        <li>Lv:10</li>
                        <li>HP:300</li>
                        <li>ATK:40</li>
                        <li>DEF:60</li>
                    </ul>
                </div>
            </div>
            <div class="command">
                <p onclick="soonFail(2)">▷たたかう</p>
                <p onclick="openBattleMagic()">▷まほう</p>
                <p onclick="closeBattle('B2')">▷にげる</p>
            </div>
        </div>
        
        
        <div id="B3" class="battle" style="display: none" onclick="fail()">
            <div class="enemy_info">
                <div class="enemy_name" id="B3_name" onclick="changeName('B3')">魔王</div>
                <div class="enemy_status">
                    <ul style="list-style-type: none;">
                        <li>Lv:50000</li>
                        <li>HP:100000</li>
                        <li>ATK:100000</li>
                        <li>DEF:30000</li>
                    </ul>
                </div>
            </div>
            <img src="images/mobs/魔王.png" class="monster" id="monster3" onclick="">
            <div class="command">
                <p onclick="soonFail(3)">▷たたかう</p>
                <p onclick="openBattleMagic()">▷まほう</p>
                <p onclick="closeBattle('B3')">▷にげる</p>
            </div>
        </div>
        
        <div id="failed" style="display: none;">
            <p id="failed_paragraph">効いていないようだ</p>
        </div>
        
        <div id="battle_magic" class="battle command" style="display: none;">
            <p id="magic1" class="change_color" onclick="selectBattleMagic(1)" style="display: none">▷カラー</p>
            <p id="magic2" class="change_char" onclick="selectBattleMagic(2)" style="display: none">▷文字トランス</p>
            <p id="magic3" class="scissors" onclick="selectBattleMagic(3)" style="display: none">▷ハサミ</p>
            <p id="magic4" class="add_char" onclick="selectBattleMagic(4)" style="display: none">▷スクエア</p>
            <div id="magic1_explain" class="explain" style="display: none;">
                <p>色を変えます</p>
                <p onclick="choiceBattleMagic1()">▷使う</p>
                <p onclick="closeBattleMagicExplain(1)">▷やめる</p>
                <div id="magic1_colorchoice" style="display: none;">
                    <p>どの色にする？</p>
                    <p class="red" onclick="useBattleMagic('magic1R')">▷赤</p>
                    <p class="green" onclick="useBattleMagic('magic1G')">▷黄</p>
                    <p class="blue" onclick="useBattleMagic('magic1B')">▷青</p>
                    <p onclick="closeBattleChoice()">▷やめる</p>
                </div>
            </div>
            
            <div id="magic2_explain" class="explain" style="display: none;">
                <p>文字を変えます</p>
                <p onclick="useBattleMagic('magic2')">▷使う</p>
                <p onclick="closeBattleMagicExplain(2)">▷やめる</p>
            </div>
        
            <div id="magic3_explain" class="explain" style="display: none;">
                <p>切ります</p>
                <p onclick="useBattleMagic('magic3')">▷使う</p>
                <p onclick="closeBattleMagicExplain(3)">▷やめる</p>
            </div>

            <div id="magic4_explain" class="explain" style="display: none;">
                <p>□を足します</p>
                <p onclick="useBattleMagic('magic4')">▷使う</p>
                <p onclick="closeBattleMagicExplain(4)">▷やめる</p>
            </div>

            <p onclick="closeBattleMagic()">▷閉じる</p>
            <div id="using_magic" style="display: none;">
                <p>どこに使う？</p>
                <p onclick="stopBattleUsing()">▷やめる</p>
            </div>
            <div id="victory" style="display: none;">
                <p id="runaway" style="display: none;">逃げだした！<br>経験値を430pt手に入れた！</p>
                <p id="fall" style="display: none;">落ちていった！<br>経験値を4920pt手に入れた！</p>
                <p onclick="finishBattle()">▷確認</p>
            </div>
        </div>
        <div id="blackout" style="display: none;"></div>
    </body>
</html>